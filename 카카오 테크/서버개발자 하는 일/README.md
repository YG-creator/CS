스프링 부트

# 방화벽 설정 확인 습관화

특정 서버나 사이트에 접속하지 못하거나, 님 내 배포 시스템에 접근하지 못하는 경우 -> 회사 방화벽 때문임 



# 트래픽 폭주

mysql 커넥션 최댓값 확인해라

ex)

400에러 -> 커넥션 부족 -> mysql 커넥션 최댓값 설정 바꾸기



# 요청 빠르게 처리하기 

동기 처리이면 -> 비동기 처리



# 조회시간 빠르게하기

DB테이블에 인덱스 추가(꼭 필요한 컬럼에만, 수정빈도가 적고, 중복도가 낮은 곳)



# DB 구조 변경 업데이트

설계 단계에서는 DB ERD 변경, 구현 단계에서는 배치 작업 추가

ex)

서버정보를 타서비스에서 가져옴 -> DB에 따로 저장하지 않아서 모든기능 제공 못함, 로직도 어켜있어 성능저하 -> 주기적인 동기화 작업으로 서버 정보를 DB에 직접 저장 -> 설계 단계에서는 DB ERD 변경, 구현 단계에서는 배치 작업 추가

# OutOfMemoryError

동기화 작업을 진행할 때 외부데이터를 한꺼번에 큰 데이터를 가져올 경우 발생가능

JVM을 사용한다면 힙 메모리 공간을 참고해서 조절해야 됨(나눠서 반복 조회하도록)



# DB 메모리 공간 부족

1. 주기적인 삭제 배치 작업 필요

2. 멀티 서버인 경우 Lock을 걸어서 중복처리를 방지해라
   1. DB에서는 Lock이 기본으로 사용되므로 문제 ㄴㄴ 
   2. JPA에서는 @Transzctional이 들어가는 경우 추가로 Lock해줘야됨
   3. 스케줄 작업이 많다면 스케줄용 서버 따로 운영



# 데이터 종류에 맞는 DB

Elasticsearch :  장점 : 대용량, RDB에서 처리하기 힘든 비정형 데이터 저장, RESTful API -> JSON

​							단점 : 실시간 처리 불가(커밋과 플러시 과정이 있어서), 비용소모가 커서 트랜잭션이나 롤백 지원 안함 -> 문제 발생시 유연하게 관리 할수 없음



ex)

서버 다운시 -> 서버에서 로그데이터를 가져올수 없음 -> 로그데이터 DB에 저장 필요 -> 

수많은 로그 데이터를 텍스트형으로 저장 -> MySQL에 저장하면 성능 저하 -> Elasticsearch에 저장(클러스터에 인덱스 추가), CRUD 작업시 SQL 대신 RESTful API 형태로 요청